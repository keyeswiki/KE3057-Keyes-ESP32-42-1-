<xml version="Mixly 2.0 rc4" board="Arduino ESP32@ESP32 Dev Module"><block type="base_setup" id="UWv|CR~CMF$EG:v4,1^W" x="-2055" y="-1317"><statement name="DO"><block type="serial_begin" id="+N`Pof]w5hAd770^FKwe"><field name="serial_select">Serial</field><value name="CONTENT"><shadow type="math_number" id=":L6u^P[3uEZmEuX55R8*"><field name="NUM">9600</field></shadow></value><next><block type="sensor_encoder_init" id="!k1VII)y;.@E=s#YdvA4"><field name="TYPE">1</field><field name="mode">2</field><value name="CLK"><shadow type="pins_digital" id="EwX$cNo[wpoTUHXD)hlU"><field name="PIN">14</field></shadow></value><value name="DT"><shadow type="pins_digital" id="v*fB!th5h{.]{QYgZ:|!"><field name="PIN">27</field></shadow></value><next><block type="sensor_encoder_set" id="0EVxAa{V(![KhWnJZ|KG"><field name="TYPE">1</field><field name="OPERATE_TYPE">resetPosition</field><value name="DATA"><shadow type="math_number" id="Ry$b}pY0#!~T6}rEE:El"><field name="NUM">0</field></shadow></value><next><block type="variables_declare" id="z3S+F3vI(^u8a*hQU`N6"><field name="variables_type">global_variate</field><field name="VAR">Button</field><field name="TYPE">int</field><value name="VALUE"><block type="math_number" id="4g4b-^)8?CCxN5B]!q|V"><field name="NUM">0</field></block></value><next><block type="variables_declare" id="g*IS.039I-agl?1R0Z3/"><field name="variables_type">global_variate</field><field name="VAR">btn_state</field><field name="TYPE">boolean</field><value name="VALUE"><block type="math_number" id="5y[)Qizgjy4z+vV:hI)r"><field name="NUM">0</field></block></value></block></next></block></next></block></next></block></next></block></statement></block><block type="sensor_encoder_handle" id="|6/^?(9*4=zZ]u-O|}`d" x="-2053" y="-1086"><field name="TYPE">1</field><field name="OPERATE_TYPE">setLeftRotationHandler</field><statement name="DO"><block type="serial_print" id="mvoL?L{R/F+Js4F@gohh"><field name="serial_select">Serial</field><field name="new_line">println</field><value name="CONTENT"><block type="sensor_encoder_get" id="MsJ?Gn_6s5nQXondby|6"><field name="TYPE">1</field><field name="OPERATE_TYPE">getPosition</field></block></value></block></statement></block><block type="sensor_encoder_handle" id="W^5yDe}9mxJXSc~V7.Wj" x="-2053" y="-1007"><field name="TYPE">1</field><field name="OPERATE_TYPE">setRightRotationHandler</field><statement name="DO"><block type="serial_print" id="F~/:~~Ym6ttHW|=HN-^B"><field name="serial_select">Serial</field><field name="new_line">println</field><value name="CONTENT"><block type="sensor_encoder_get" id="=D3PCbo-7NV6S#MBbxb$"><field name="TYPE">1</field><field name="OPERATE_TYPE">getPosition</field></block></value></block></statement></block><block type="variables_set" id="wq$Y|C|]oz{L?85;FACs" x="-2052" y="-925"><field name="VAR">Button</field><value name="VALUE"><block type="encoder_button" id="~bAj,McnQdoxb:Q^N_;z"><value name="PIN"><shadow type="pins_digital" id="y`vS7xrD}.zGxa](;:NB"><field name="PIN">16</field></shadow></value></block></value><next><block type="controls_if" id="/18Pb-or^e31aWR:n@=r"><value name="IF0"><block type="logic_compare" id="_l=_OLJAJm_r@#Sd1MMm"><field name="OP">EQ</field><value name="A"><block type="variables_get" id="9G).6e7vh7YILUGq^pVa"><field name="VAR">Button</field></block></value><value name="B"><block type="math_number" id="a#}dk}D;+3NTl,pMB)U-"><field name="NUM">0</field></block></value></block></value><statement name="DO0"><block type="controls_delay" id="r*Z(*pOUOW^X2ze=r=[l"><field name="UNIT">delay</field><value name="DELAY_TIME"><shadow type="math_number" id="0dqE=y[,:SgK?o3E$s4O"><field name="NUM">10</field></shadow></value><next><block type="controls_if" id="[HM]E,(g6USM-p2K:Irq"><value name="IF0"><block type="logic_compare" id="}usqD(SV9qvUEor/YC}q"><field name="OP">EQ</field><value name="A"><block type="variables_get" id="k)3Dt9^}bR2O:RKM-dY["><field name="VAR">Button</field></block></value><value name="B"><block type="math_number" id="H+v/3VT`X,r@6Ow*1n.K"><field name="NUM">0</field></block></value></block></value><statement name="DO0"><block type="controls_delay" id="u8Ykj9oC7-OfzWe!mETo"><field name="UNIT">delay</field><value name="DELAY_TIME"><shadow type="math_number" id="}F0x-eC2N25$bW0|pl4a"><field name="NUM">10</field></shadow></value><next><block type="variables_set" id="u*G9N2uG9*3{6Q{WeSJ`"><field name="VAR">btn_state</field><value name="VALUE"><block type="math_number" id="r~A!}CK,EIR!L45[;@H["><field name="NUM">1</field></block></value><next><block type="controls_whileUntil" id="5!YOV*M|WXoxL`J3}88,"><field name="MODE">WHILE</field><value name="BOOL"><shadow type="logic_boolean" id="op:i_8n8jJ+)!Re(RzH5"><field name="BOOL">TRUE</field></shadow><block type="logic_compare" id="p6m#:7O[bugc*.$yq!O?"><field name="OP">EQ</field><value name="A"><block type="variables_get" id="O7[84Fs@z9=mN37Nhk-?"><field name="VAR">btn_state</field></block></value><value name="B"><block type="math_number" id="(OKIA2R2y,cYKg_A:Daz"><field name="NUM">1</field></block></value></block></value><statement name="DO"><block type="variables_set" id="NJF)UfJb#kFYb-L;sy}x"><field name="VAR">Button</field><value name="VALUE"><block type="encoder_button" id="_0[~)/i+j58)mrN}w6:/"><value name="PIN"><shadow type="pins_digital" id="wB#LAU,95mh|M!R)PRJ;"><field name="PIN">16</field></shadow></value></block></value><next><block type="controls_if" id="oQv+9YV,x6]4:}Dg/K-s"><value name="IF0"><block type="logic_compare" id=".-Q0j.07@n)XwSQxS(!A"><field name="OP">EQ</field><value name="A"><block type="variables_get" id="D#]BE4~oWkh#E9~Bm6]?"><field name="VAR">Button</field></block></value><value name="B"><block type="math_number" id="cS*C.w^]}~7n.nLhY3.="><field name="NUM">0</field></block></value></block></value><statement name="DO0"><block type="serial_print" id="D]tN!{k5f}no~T~MjsLU"><field name="serial_select">Serial</field><field name="new_line">println</field><value name="CONTENT"><block type="text" id="NES^mc/YH[7icb#L[0}8"><field name="TEXT">Button pressed!</field></block></value><next><block type="variables_set" id="h-AixsyiotX$xtLCOHf6"><field name="VAR">btn_state</field><value name="VALUE"><block type="math_number" id="rlf2Nf32u*-(3jai]7/*"><field name="NUM">0</field></block></value></block></next></block></statement></block></next></block></statement></block></next></block></next></block></statement></block></next></block></statement></block></next></block></xml><config>{"PSRAM":{"key":"disabled","label":"Disabled"},"PartitionScheme":{"key":"default","label":"Default 4MB with spiffs (1.2MB APP/1.5MB SPIFFS)"},"CPUFreq":{"key":"240","label":"240MHz (WiFi/BT)"},"FlashMode":{"key":"qio","label":"QIO"},"FlashFreq":{"key":"80","label":"80MHz"},"FlashSize":{"key":"4M","label":"4MB (32Mb)"},"UploadSpeed":{"key":"921600","label":"921600"},"LoopCore":{"key":"1","label":"Core 1"},"EventsCore":{"key":"1","label":"Core 1"}}</config><code>CiNpbmNsdWRlIDxFU1BSb3RhcnkuaD4KCkVTUFJvdGFyeSBlbmNvZGVyMTsKdm9sYXRpbGUgaW50IEJ1dHRvbjsKdm9sYXRpbGUgYm9vbGVhbiBidG5fc3RhdGU7Cgp2b2lkIGVuY29kZXIxT25MZWZ0Um90YXRpb24oRVNQUm90YXJ5JiBlbmNvZGVyMSkgewogICAgU2VyaWFsLnByaW50bG4oZW5jb2RlcjEuZ2V0UG9zaXRpb24oKSk7Cn0KCnZvaWQgZW5jb2RlcjFPblJpZ2h0Um90YXRpb24oRVNQUm90YXJ5JiBlbmNvZGVyMSkgewogICAgU2VyaWFsLnByaW50bG4oZW5jb2RlcjEuZ2V0UG9zaXRpb24oKSk7Cn0KCnZvaWQgc2V0dXAoKXsKICBTZXJpYWwuYmVnaW4oOTYwMCk7CiAgZW5jb2RlcjEuYmVnaW4oMjcsIDE0KTsKICBlbmNvZGVyMS5zZXRTdGVwc1BlckNsaWNrKDIpOwogIEJ1dHRvbiA9IDA7CiAgYnRuX3N0YXRlID0gMDsKICBlbmNvZGVyMS5yZXNldFBvc2l0aW9uKDApOwogIGVuY29kZXIxLnNldExlZnRSb3RhdGlvbkhhbmRsZXIoZW5jb2RlcjFPbkxlZnRSb3RhdGlvbik7CiAgZW5jb2RlcjEuc2V0UmlnaHRSb3RhdGlvbkhhbmRsZXIoZW5jb2RlcjFPblJpZ2h0Um90YXRpb24pOwogIHBpbk1vZGUoMTYsIElOUFVUKTsKfQoKdm9pZCBsb29wKCl7CiAgZW5jb2RlcjEubG9vcCgpOwogIEJ1dHRvbiA9IGRpZ2l0YWxSZWFkKDE2KTsKICBpZiAoQnV0dG9uID09IDApIHsKICAgIGRlbGF5KDEwKTsKICAgIGlmIChCdXR0b24gPT0gMCkgewogICAgICBkZWxheSgxMCk7CiAgICAgIGJ0bl9zdGF0ZSA9IDE7CiAgICAgIHdoaWxlIChidG5fc3RhdGUgPT0gMSkgewogICAgICAgIEJ1dHRvbiA9IGRpZ2l0YWxSZWFkKDE2KTsKICAgICAgICBpZiAoQnV0dG9uID09IDApIHsKICAgICAgICAgIFNlcmlhbC5wcmludGxuKCJCdXR0b24gcHJlc3NlZCEiKTsKICAgICAgICAgIGJ0bl9zdGF0ZSA9IDA7CgogICAgICAgIH0KICAgICAgfQoKICAgIH0KCiAgfQoKfQ==</code>